pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
#include nineslice.lua
#include rich_text.lua
#include text_crawl.lua
#include draw_util.lua
#include sprites.lua
#include global.lua
#include dialogue.lua
#include item.lua
#include item_shop.lua
#include equipment.lua
#include spell.lua
#include enemy.lua
#include battle_menu.lua
#include battle.lua
#include dialogues.lua


dialogue = dark_elf
result = nil
dialogue:load()

function _update()
  if not result then
    result = dialogue:update()
  end
end

function _draw()
  cls()
  if result then
    print("You selected: " .. result)
    return
  end
  dialogue:draw()
  draw_hud()
end

__gfx__
00000000007777777777770000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000006000000000000
000000000711111111111170000000000000000000000000000000000000cc000000002000000000000000000000000000000000066600000706600000000000
0070070071111111111111170000000000000000000000000000000000000cc00000002000000000000000000000000000000000777660000077660000000000
00077000711111111111111700000000bb08800000000efff000000000000ccc0000002000000000000090000000000000000000077769900077769900000000
000770007111111111111117000033333b8000000000fefff00000000000cc4440000200000000e9900999000000066600000000007799f00007799f00000000
007007007111111111111117000003eee33000000000eeffff000000000044ccccc0020000000eeeee00900000007776800000000000b30000000b3000000000
000000007111111111111117000000ffef3300000000b33ffb00000000ccccee000002000000efeffe0020000000077888800000000b30f00000b30f00000000
000000007111111111111117000000fffee000000000bb333bbf440000000776700002000000eefff00020000000007788f000000ff0f000000f060000000000
00000000711111111111111700000b3333e00000000bb32222fff4400000cc777c0cf0000000e6666700200000000000a9000000000f006600f00f0000000000
00060000711111111111111700004bbbbf44000004fff24444444440000ccc777cccf000000ff777776f00000000000a90f00000000000066000000000000000
00777770711111111111111700004244334400000444444a44a4420000fcc5777ccc2000000ff667967f000000000ff0f0000000000007776990000000000000
07777000711111111111111700000033b67000000024444a9442220000fc44c7000c2000000009997002000000000000000000000007777799f0000000000000
077760007111111111111117000000bb6b3700000022224442222200000c5ccc40020000000067777f020000000000000000000000000000b300000000000000
00000000711111111111111700000ffbb330700000222222222220000005ccc54c02000000006677ff20000000000000000000000000000b30f0000000000000
00000000071111111111117000000ff0bff007000000222222200000000ccc555c0200000000ff76ff20000000000000000000000000000f6000000000000000
000000000077777777777700000044400440000000000002200000000004440044420000000044004440000000000000000000000000000f0f00000000000000
d5dd7ddd5ddddd5d244ffff44ffff44246444444444445645555555555555555dddddddddddddddd000000000000000000000000000000000000000000000000
555bb7dd5ddbdd5df244f7f44f7f442f44422222222224445555555555555555d7ddddddddddd7dd000000000000000000000000000000000000000000000000
5555bbe555ebe555ff244ff44ff442ff42266665666562247766666777666667dddddddddddddddd000000000000000000000000000000000000000000000000
353bbb5555bb7555f772442442442f7746566665666566647755555777555557ddd66ddd7ddddddd000000000000000000000000000000000000000000000000
33b55b73535bb555ffff24444442ffff4666566445666564ddd676ddddd676dddd6666ddd5ddd5dd000000000000000000000000000000000000000000000000
53bbbb5333bb535344444444444444444666564224666564ddd676ddddd676ddee6556ee555ee5ee000000000000000000000000000000000000000000000000
3b55bbb5535bb335222222222222222246566427d2456664ddd676ddddd676ddee6666eee5eee55e000000000000000000000000000000000000000000000000
bbbbbbb5bb55b733ffffffffffffffff465642dddd246664ddd676ddddd676dd2265562225222d22000000000000000000000000000000000000000000000000
555b5b555bbbbb57ff7fff4dd4fff77f466642dddd246564ddd676ddddd676dd2d6666d222222222000000000000000000000000000000000000000000000000
53334533bbbb5bb3fffff4dddd4fffff466642dd7d246564ddd676ee5ee676dd22655622d2222222000000000000000000000000000000000000000000000000
33534333555bbbb3ffff44dddd44ffff465642eeee246664eee676e555e676e526666d62d2266622000000000000000000000000000000000000000000000000
3333433bbbb5bb5b77ff44dddd44f7ff46565222222466645006760050067605d6d66d6222666662000000000000000000000000000000000000000000000000
333343b333343333ffff99444499ffff466644444444656450067600500676002dd2222d22655562000000000000000000000000000000000000000000000000
33533333b33433b3ffffffffffffffff466656666566656400555550005555502222d222d26666d2000000000000000000000000000000000000000000000000
3333b33333343333665666655666666546566665666566646655555666555556222d2222d2d56d52000000000000000000000000000000000000000000000000
b333333b3b333b335666556666565566465666656665666466666666666666662222222222222222000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d66000f0d660f00000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ddd6000ffd6f000000000000
00000000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ddd6008ddddd000000000000
00000000002222000000000000000000000bb0880000000000bb088000000000000000bb0880000000000000000000bb0880000066d00088d757000000000000
000000000211020000000000070000033333b80000000033333b8000000000000033333b80000000000000000033333b80000000006dd0022288055000000000
000000dd0222000000000000007000003eee330000000003eee33000000000000003eee330000000000000000003eee3300000000005dd658288555000000000
0000000dd2ddd00000000000000700000ffef33000000000ffef3300000000007777777f33000000000000000000ffef3300000000056d665555d00000000000
00000000d27170000000ddd0000070060fffee0000000000ff6ee400077777777777fffee0000000000000060000fffee000000000000656666d820000000000
000000000d1ddd000ddd1d0d00000760b3333e000000000b3363e400000000060000b3333e000000000000060000b3333e000000000000055558880000000000
0000000447dd00d04d10d00000000642bbbbf44000077777776440007777777644f3bbbbf44000007777777644f3bbbbf4400000000000666558820000000000
00000044447dd00000000000000060042443344000000000446440000000000644ff3443344000000000000644ff344334400000000002dd60d2200000000000
0000044044777004dd00000000000000033b30000000000033630000000000060000033b30000000000000060000033b30000000000002220000000000000000
0000400004477071dd00000000000000fb44b3000000000fb44b30000000000000ffbb44b3f000000000000000ffbb44b3f00000000000000000000000000000
0000d0000fff774dd00000000000000fffbb33f00000000ffbb33f000000000000fff3bb3fff00000000000000fff3bb3fff0000000000555555000000000000
0000d00044f4441d000000000000000ff03b0ff00000000ff3b0ff0000000000000ff03b00fff00000000000000ff03b00fff000000005555555500000000000
00001d0044f000d00000000000000044400004400000000440004440000000000044400000044000000000000044400000044000000000555555000000000000
000dd004400002220020000000000000000000660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000d0d0ddd0000222200000000000000000066600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00d00000ddd000000000000000000000006660000000000000000000000000000000000008888800000000000000000000000000000000000000000000000000
0000000000d200000000000000000000666000000000000000000000000000000000000000088888000000000000000000000000000000000000000000000000
00000000002200000000000000000006760000000000000060000000000000000000000000008988800000000000000088888800000000000000000000000000
00000002022000000000000000000067600000000000006600000000000000000000000000000899888000000000008888888000000000000000000000000000
00000000220000000000000000000676000000000000066000000000000000000000000000000899988800000000088889880000000000000000000000000000
00000000000000000000000000006760000000000000676000000000000006000000000000008997998880000000888899800000000000000000000000000000
00000000000000000000000000067760000000000006760000000000000060000000000000008997799880000008888999800000000088888800000000000000
00000000000000000000000000677600000000000067600000000000000660000000000000088997799988000008889979980000000000888880000000000000
00000000000000000000000007776000000000000677600000000000006700000000000000889977799998000088889779988800000000089888800000000000
00000000000000000000000077776000000000000777600000000000077600000000000008899777779998000088899779998880000000889998880000000000
00000000000000000000000077770000000000000776000000000000077000000000000008997777777998000088997777999880000088899799888000000000
00000000000000000000000077770000000000000770000000000000000000000000000000997777777998000089977777999880000888997779988000000000
00000000000000000000000077700000000000000000000000000000000000000000000000099777777990000089977777998880000889977779988000000000
00000000000000000000000007000000000000000000000000000000000000000000000000099777779900000008997779998000000089977779980000000000
00000000000000000000000000000000000000000000000067700000888800000000080000bbbb000000000000000000000000dddd000000000000000b000030
000000000000000000000000000000000000dd000000000066670008882000000088000003bb00000000000ccc00000000000d00ddd00000000000000eb00320
0000000000000000000000000ddd0000000deed00000dd00666700b888880000888000bbbb333000000000ccccc000000000000ddddd000000b000000eebbb30
000000000000000000000ddddeeed000000deed0000deed0446000bb873700008980000c3bbbbbb0000000cd7d7000000000000dd11d0000000b0000bbeb8b80
0000000ddd0000000000deedee7eed000000dd00000deed0004bb00333bb03300890000cc37d700000000ddcdcc00000000000dd717d0000000b00003ebbbbbb
000000deeed00000000deeedeee7ed00000000ddd000dd000003bb42b3bb33300004cc00dddcc0dd0000ccd0ccc00000000090dd111dd000003b000bb333b7e7
000000deeed00000000de7eedeeeed0000000de7ed00000000034b44222240000000dccb3cdcc3dd000ccdcc0cc000000009011ddddd000003b0000b3ee00bb0
000000ee7eed0000000de7eeeeded0000000deeeeed00000000004244444b3000000dbcbb3333b0000ccdddccd00ccc000009d111111d0000bb000bbef000000
00000edee7edd000000deeeedeeddd000000deededed000000000002222bbb00000000b3bbbbbcd000d00dcddddccddc0000addddddddd000bb000bbfef30000
0000de7deeded00000dedeede7edeed00000de7edeed000000000044422bb300000000003333ccc00ccc004440000c0c000d71dddddd1dd00bbbb00bbfe30000
0000deeee7eed00000deeddeeede7ed000000deede7d000000000344404330000000000bbb33ccd00dc00422420000000066766dddd11dd000bbbbbbbef30000
00000dddeeeed00000de7eedede7eed000dd00dd0dd000000000033300000000000000dbbb0bdd000cd0442022400000000666011110dddd0bb33bbb3feb0000
00000000dddd0000000deeededeeed000deed000000dd0000000000000000000000000ddd00000000004420000240000000000dd1100dd10bb00bbb3eebb0000
00000000000000000000dddd00ddd0000deed00000deed0000000055555500000000000555555000000c00000020000000000d1100000000b00bb003303bb000
0000000000000000000000000000000000dd000000deed000000055555555000000000555555550000ccc0000dc000000000d00000000000bb0bb00000033b00
0000000000000000000000000000000000000000000dd0000000005555550000000000055555500000ddcc000ddcc00000001000000000000b707b70000007b7
00c000006060600002220000d000d0000ddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ccc000066666000202020000d0d0000d000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ccccc000666660002202200000000000d0d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ccc000006660000022200000d0d0000d00d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ccc00000060000002220000d000d0000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0099000000e000000008800000880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
099000000e0e00008088800008800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99999000e000e0008888000088888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
999990000e0e00000880000088888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0999000000e000008088000008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
