pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
#include nineslice.lua
#include rich_text.lua
#include text_crawl.lua
#include draw_util.lua
#include sprites.lua
#include global.lua
#include dialogue.lua
#include dialogues.lua

dialogue = sage
result = nil
dialogue:load()

function _update()
  if not result then
    result = dialogue:update()
  end
end

function _draw()
  cls()
  if result then
    print("You selected: " .. result)
    return
  end
  dialogue:draw()
  draw_hud()
end

__gfx__
00000000007777777777770000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000006000000000000
000000000711111111111170000000000000000000000000000000000000cc000000002000000000000000000000000000000000066600000706600000000000
0070070071111111111111170000000000000000000000000000000000000cc00000002000000000000000000000000000000000777660000077660000000000
00077000711111111111111700000000bb08800000000efff000000000000ccc0000002000000000000090000000000000000000077769900077769900000000
000770007111111111111117000033333b8000000000fefff00000000000cc4440000200000000e9900999000000066600000000007799f00007799f00000000
007007007111111111111117000003eee33000000000eeffff000000000044ccccc0020000000eeeee00900000007776800000000000b30000000b3000000000
000000007111111111111117000000ffef3300000000b33ffb00000000ccccee000002000000efeffe0020000000077888800000000b30f00000b30f00000000
000000007111111111111117000000fffee000000000bb333bbf440000000776700002000000eefff00020000000007788f000000ff0f000000f060000000000
00000000711111111111111700000b3333e00000000bb32222fff4400000cc777c0cf0000000e6666700200000000000a9000000000f006600f00f0000000000
00060000711111111111111700004bbbbf44000004fff24444444440000ccc777cccf000000ff777776f00000000000a90f00000000000066000000000000000
00777770711111111111111700004244334400000444444a44a4420000fcc5777ccc2000000ff667967f000000000ff0f0000000000007776990000000000000
07777000711111111111111700000033b67000000024444a9442220000fc44c7000c2000000009997002000000000000000000000007777799f0000000000000
077760007111111111111117000000bb6b3700000022224442222200000c5ccc40020000000067777f020000000000000000000000000000b300000000000000
00000000711111111111111700000ffbb330700000222222222220000005ccc54c02000000006677ff20000000000000000000000000000b30f0000000000000
00000000071111111111117000000ff0bff007000000222222200000000ccc555c0200000000ff76ff20000000000000000000000000000f6000000000000000
000000000077777777777700000044400440000000000002200000000004440044420000000044004440000000000000000000000000000f0f00000000000000
d5dd7ddd5ddddd5d244ffff44ffff44246444444444445645555555555555555dddddddddddddddd000000000000000000000000000000000000000000000000
555bb7dd5ddbdd5df244f7f44f7f442f44422222222224445555555555555555d7ddddddddddd7dd000000000000000000000000000000000000000000000000
5555bbe555ebe555ff244ff44ff442ff42266665666562247766666777666667dddddddddddddddd000000000000000000000000000000000000000000000000
353bbb5555bb7555f772442442442f7746566665666566647755555777555557ddd66ddd7ddddddd000000000000000000000000000000000000000000000000
33b55b73535bb555ffff24444442ffff4666566445666564ddd676ddddd676dddd6666ddd5ddd5dd000000000000000000000000000000000000000000000000
53bbbb5333bb535344444444444444444666564224666564ddd676ddddd676ddee6556ee555ee5ee000000000000000000000000000000000000000000000000
3b55bbb5535bb335222222222222222246566427d2456664ddd676ddddd676ddee6666eee5eee55e000000000000000000000000000000000000000000000000
bbbbbbb5bb55b733ffffffffffffffff465642dddd246664ddd676ddddd676dd2265562225222d22000000000000000000000000000000000000000000000000
555b5b555bbbbb57ff7fff4dd4fff77f466642dddd246564ddd676ddddd676dd2d6666d222222222000000000000000000000000000000000000000000000000
53334533bbbb5bb3fffff4dddd4fffff466642dd7d246564ddd676ee5ee676dd22655622d2222222000000000000000000000000000000000000000000000000
33534333555bbbb3ffff44dddd44ffff465642eeee246664eee676e555e676e526666d62d2266622000000000000000000000000000000000000000000000000
3333433bbbb5bb5b77ff44dddd44f7ff46565222222466645006760050067605d6d66d6222666662000000000000000000000000000000000000000000000000
333343b333343333ffff99444499ffff466644444444656450067600500676002dd2222d22655562000000000000000000000000000000000000000000000000
33533333b33433b3ffffffffffffffff466656666566656400555550005555502222d222d26666d2000000000000000000000000000000000000000000000000
3333b33333343333665666655666666546566665666566646655555666555556222d2222d2d56d52000000000000000000000000000000000000000000000000
b333333b3b333b335666556666565566465666656665666466666666666666662222222222222222000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000002222000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000021102000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd022200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000dd2ddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000d27170000000ddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000d1ddd000ddd1d0d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000447dd00d04d10d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000044447dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000044044777004dd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000400004477071dd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000d0000fff774dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000d00044f4441d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00001d0044f000d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000dd004400002220020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000d0d0ddd0000222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00d00000ddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000d200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000002200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000002022000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
